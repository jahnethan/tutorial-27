{"version":3,"sources":["mintbean.png","components/CameraFeed.jsx","App.js","index.js"],"names":["module","exports","CameraFeed","sendFile","videoPlayer","useRef","canvas","useEffect","a","navigator","mediaDevices","enumerateDevices","cameras","console","log","processDevices","devices","forEach","device","label","setDevice","deviceId","getUserMedia","audio","video","then","stream","current","srcObject","catch","err","className","ref","autoPlay","width","heigh","onClick","e","context","getContext","drawImage","takePhoto","height","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oGAAAA,EAAOC,QAAU,IAA0B,sC,+GC0D5BC,EAxDI,SAAC,GAAiB,EAAfC,SAAgB,IAC9BC,EAAcC,iBAAO,MACrBC,EAASD,iBAAO,MAEtBE,oBAAS,sBAAC,4BAAAC,EAAA,sEACcC,UAAUC,aAAaC,mBADrC,OACFC,EADE,OAERC,QAAQC,IAAIF,GACZG,EAAeH,GAHP,2CAIP,IAEH,IAAMG,EAAiB,SAACC,GAClBA,EAAQC,SAAQ,SAAAC,GACZL,QAAQC,IAAII,EAAOC,OACnBC,EAAUF,OAIdE,EAAS,uCAAG,WAAOF,GAAP,eAAAV,EAAA,6DACNa,EAAaH,EAAbG,SADM,SAEOZ,UAAUC,aAAaY,aAAa,CAAEC,OAAO,EAAOC,MAAO,CAAEH,cACjFI,MAAK,SAAAC,GAAM,OAAItB,EAAYuB,QAAQC,UAAYF,KAC/CG,OAAM,SAAAC,GAAG,OAAIjB,QAAQC,IAAIgB,MAJZ,cAMdjB,QAAQC,IAAIV,GANE,2CAAH,sDA0Bf,OACE,yBAAK2B,UAAU,iBACb,yBAAKA,UAAU,yBACb,2BAAOC,IAAK5B,EAAa6B,UAAQ,EAACC,MAAM,MAAMC,MAAM,SAEtD,4BAAQC,QAAS,SAACC,GAAD,OApBF,SAACA,GAERxB,QAAQC,IAAIR,GAEZ,IAAMgC,EAAUhC,EAAOqB,QAAQY,WAAW,MAE1C1B,QAAQC,IAAIwB,GACZzB,QAAQC,IAAIV,GACZkC,EAAQE,UAAUpC,EAAYuB,QAAS,EAAE,EAAG,IAAK,KAYjCc,KAAxB,eACA,yBAAKV,UAAU,wBACb,4BAAQA,UAAU,SAASG,MAAM,MAAMQ,OAAO,MAAMV,IAAK1B,OCrClDqC,EAVH,WAEV,OACE,yBAAKZ,UAAU,OACT,kDACA,kBAAC,EAAD,QCLVa,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.c9288bea.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mintbean.cf18b629.png\";","import React, { useEffect, useRef } from 'react';\n\nconst CameraFeed = ({ sendFile }) => {\n  const videoPlayer = useRef(null)\n  const canvas = useRef(null)\n\n  useEffect(async () => {\n    const cameras = await navigator.mediaDevices.enumerateDevices();\n    console.log(cameras)\n    processDevices(cameras);\n  }, [])\n\n  const processDevices = (devices) => {\n        devices.forEach(device => {\n            console.log(device.label);\n            setDevice(device);\n        })\n    }\n\n  const setDevice = async (device) => {\n      const { deviceId } = device\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: false, video: { deviceId } })\n      .then(stream => videoPlayer.current.srcObject = stream)\n      .catch(err => console.log(err))\n      // videoPlayer.play()\n      console.log(videoPlayer)\n      // videoPlayer.srcObject = stream;\n      // videoPlayer.play()\n    }\n\n   const takePhoto = (e) => {\n              // const { sendFile } = this.props;\n              console.log(canvas)\n              // console.log(c anvas.ref.current.getContext())\n              const context = canvas.current.getContext('2d')\n              // const context = e.currentTarget.getContext('2d');\n              console.log(context)\n              console.log(videoPlayer)\n              context.drawImage(videoPlayer.current, 0,0, 680, 360)\n\n              // context.drawImage(videoPlayer, 0, 0, 680, 360);\n              // canvas.toBlob(sendFile);\n          }\n\n\n  return (\n    <div className=\"c-camera-feed\">\n      <div className=\"c-camera-feed__viewer\">\n        <video ref={videoPlayer} autoPlay width=\"680\" heigh=\"360\" />\n      </div>\n      <button onClick={(e) => takePhoto(e)}>Take photo!</button>\n      <div className=\"c-camera-feed__stage\">\n        <canvas className='canvas' width=\"680\" height=\"360\" ref={canvas} />\n      </div>\n    </div>\n  )\n}\n\nexport default CameraFeed\n","import React, { useEffect } from 'react';\nimport logo from './mintbean.png';\nimport './styles/index.css';\nimport CameraFeed from './components/CameraFeed'\n\nconst App = () => {\n\n  return (\n    <div className=\"App\">\n          <h1>Image capture test</h1>\n          <CameraFeed />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}